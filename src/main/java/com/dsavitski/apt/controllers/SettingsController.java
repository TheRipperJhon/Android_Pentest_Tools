package com.dsavitski.apt.controllers;

import com.dsavitski.apt.service.ConfigService;
import javafx.fxml.FXML;
import javafx.scene.control.TextField;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;

import static com.dsavitski.apt.constants.ConfigKeys.APT_PATH;

@Controller
public class SettingsController {
    @Autowired
    private ConfigService configService;

    @FXML
    private TextField settingsAptPath;

    @FXML
    public void initialize() {
        String aptPath = configService.getByKey(APT_PATH);
        if (aptPath != null) {
            settingsAptPath.setText(aptPath);
        }
    }

    public void saveSettings() {
        configService.saveOption(APT_PATH, settingsAptPath.getText());
    }
}
