package com.dsavitski.apt.controllers;

import com.dsavitski.apt.service.ConfigService;
import javafx.fxml.FXML;
import javafx.scene.control.TextField;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;

import static com.dsavitski.apt.constants.ConfigKeys.BURP_INTERFACE;

@Controller
public class SettingsController {
    @Autowired
    private ConfigService configService;

    @FXML
    private TextField settingsBurpInterface;

    @FXML
    public void initialize() {
        String burpInterface = configService.getByKey(BURP_INTERFACE);
        if (burpInterface != null) {
            settingsBurpInterface.setText(burpInterface);
        }
    }

    public void saveSettings() {
        configService.saveOption(BURP_INTERFACE, settingsBurpInterface.getText());
    }
}
